-- Flyway migration: Add BeerOrderShipment table

-- Table: beer_order_shipment
CREATE TABLE IF NOT EXISTS beer_order_shipment (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    version INTEGER,
    beer_order_id INTEGER NOT NULL,
    shipment_date TIMESTAMP,
    carrier VARCHAR(255),
    tracking_number VARCHAR(255),
    created_date TIMESTAMP,
    update_date TIMESTAMP,
    CONSTRAINT fk_beer_order_shipment_order FOREIGN KEY (beer_order_id) REFERENCES beer_order(id)
);

-- Add index
CREATE INDEX IF NOT EXISTS idx_beer_order_shipment_order ON beer_order_shipment(beer_order_id);
